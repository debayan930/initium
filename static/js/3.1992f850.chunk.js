(this.webpackJsonpinitium=this.webpackJsonpinitium||[]).push([[3],{141:function(e,t,a){e.exports={AddToCart:"AddToCart_AddToCart__1w2kd"}},142:function(e,t,a){e.exports={BookInfo:"BookInfo_BookInfo__8S3Zf",Title:"BookInfo_Title__3D-OD",Series:"BookInfo_Series__1ZOjP",Author:"BookInfo_Author__27s2N"}},143:function(e,t,a){e.exports={GenreLabel:"GenreLabel_GenreLabel__2HTPR",historical:"GenreLabel_historical__36dYO","sci-fi":"GenreLabel_sci-fi__3Kj7m",thriller:"GenreLabel_thriller__3gTxG",crime:"GenreLabel_crime__25s1t",mystery:"GenreLabel_mystery__C_2O_",romance:"GenreLabel_romance__h8xQl","non-fiction":"GenreLabel_non-fiction__PgjD1",documentary:"GenreLabel_documentary__2LNF1",fantasy:"GenreLabel_fantasy__2W-QB"}},144:function(e,t,a){e.exports={Book:"Book_Book__W2Jo5",GenreList:"Book_GenreList__1lPxH",Tooltip:"Book_Tooltip__3-sOZ",Pricehover:"Book_Pricehover__OPqjP"}},145:function(e,t,a){e.exports={BookList:"BookList_BookList__18nK4"}},146:function(e,t,a){e.exports={Pagination:"Pagination_Pagination__OH0IE",Button:"Pagination_Button__xRPFe",Hide:"Pagination_Hide__2YzT0"}},147:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__RZQda"}},148:function(e,t,a){e.exports={Modal:"Modal_Modal__2iAvo"}},149:function(e,t,a){e.exports={BookToCart:"BookToCart_BookToCart__27-_4",BookContent:"BookToCart_BookContent__11Ua4",GenreList:"BookToCart_GenreList__J6Kvb"}},150:function(e,t,a){e.exports={Button:"Button_Button__4qRM6",Cancel:"Button_Cancel__10WOq"}},151:function(e,t,a){e.exports={Quantity:"Quantity_Quantity__2GsTi",Button:"Quantity_Button__n5sjB"}},152:function(e,t,a){e.exports={ButtonControls:"ButtonControls_ButtonControls__3Y5Aj",ButtonContainer:"ButtonControls_ButtonContainer__2B_u-",ButtonCheckmark:"ButtonControls_ButtonCheckmark__2U9Ar",Dropdown:"ButtonControls_Dropdown__uXiS8",DropdownContent:"ButtonControls_DropdownContent__OT-rs",LanguageLabel:"ButtonControls_LanguageLabel__2JqyL",Price:"ButtonControls_Price__3g05l"}},153:function(e,t,a){"use strict";a.r(t);var o=a(8),n=a(58),r=a(59),c=a(62),l=a(61),i=a(0),s=a.n(i),u=a(22),d=a(89),k=a(141),b=a.n(k),m=function(e){return s.a.createElement("div",{className:b.a.AddToCart,onClick:function(){return e.clicked(e.book)}},e.children)},f=a(142),h=a.n(f),_=function(e){return s.a.createElement("div",{className:h.a.BookInfo},s.a.createElement("span",{className:h.a.Title},e.book.title),e.book.series?s.a.createElement("span",{className:h.a.Series},"(",e.book.series,")"):null,s.a.createElement("span",{className:h.a.Author},"by ",s.a.createElement("label",{style:{color:"rgb(171, 24, 139)",fontWeight:"bold"}},e.book.author)))},p=a(143),C=a.n(p),g=function(e){return s.a.createElement("div",{className:[C.a.GenreLabel,C.a[e.genre]].join(" ")},e.genre)},B=a(144),E=a.n(B),y=function(e){return s.a.createElement("div",{className:E.a.Book},s.a.createElement("div",{className:E.a.Tooltip},e.book.formats.map((function(e,t){return s.a.createElement("span",{key:t,className:E.a.Pricehover},e.format,"\xa0\xa0\u20b9\xa0",e.price)}))),s.a.createElement("div",{className:E.a.BookContent},s.a.createElement("img",{src:"https://robohash.org/".concat(e.book.id,".png?size=150x150&set=set3"),alt:e.book.id}),s.a.createElement(_,{book:e.book}),s.a.createElement("div",{className:E.a.GenreList},Object(d.a)(new Set(e.book.genres)).map((function(e,t){return s.a.createElement(g,{key:t,genre:e.toLowerCase()})})))),s.a.createElement(m,{book:e.book,clicked:e.clicked},"Add To Cart"))},T=a(145),H=a.n(T),P=function(e){return s.a.createElement("div",{className:H.a.BookList},e.books.map((function(t){return s.a.createElement(y,{key:t.id,book:t,clicked:e.clicked})})))},v=a(88),N=a(99),L=a(41),j=a(146),O=a.n(j),A=a(82),M=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currentPage:1,start:1,end:5,leftClickable:!1,rightClickable:!0},e.pageSelectHandler=function(t){e.setState((function(a){return e.props.fetchBooks((t-1)*A.a),1!==t&&t===a.start?{currentPage:t,start:a.start-1,end:a.end-1,rightClickable:!0}:t!==Math.ceil(e.props.bookCount/A.a)&&t===a.end?{currentPage:t,start:a.start+1,end:a.end+1,leftClickable:!0}:{currentPage:t,leftClickable:1!==t,rightClickable:t!==Math.ceil(e.props.bookCount/A.a)}}))},e.goToFirstHandler=function(){e.setState((function(t){return e.props.fetchBooks(),{currentPage:1,start:1,end:5,leftClickable:!1,rightClickable:!0}}))},e.goToLastHandler=function(){e.setState((function(t){return e.props.fetchBooks((Math.ceil(e.props.bookCount/A.a)-1)*A.a),{currentPage:Math.ceil(e.props.bookCount/A.a),start:Math.ceil(e.props.bookCount/A.a)-4,end:Math.ceil(e.props.bookCount/A.a),leftClickable:!0,rightClickable:!1}}))},e.moveLeftHandler=function(){e.setState((function(t){return 2===t.currentPage?(e.props.fetchBooks(),{currentPage:1,start:1,end:5,leftClickable:!1,rightClickable:!0}):1===t.start?(e.props.fetchBooks((t.currentPage-2)*A.a),{currentPage:t.currentPage-1,rightClickable:!0}):(e.props.fetchBooks((t.currentPage-2)*A.a),{currentPage:t.currentPage-1,start:t.start-1,end:t.end-1,rightClickable:!0})}))},e.moveRightHandler=function(){e.setState((function(t){return t.currentPage===Math.ceil(e.props.bookCount/A.a)-1?(e.props.fetchBooks((Math.ceil(e.props.bookCount/A.a)-1)*A.a),{currentPage:Math.ceil(e.props.bookCount/A.a),start:Math.ceil(e.props.bookCount/A.a)-4,end:Math.ceil(e.props.bookCount/A.a),leftClickable:!0,rightClickable:!1}):t.end===Math.ceil(e.props.bookCount/A.a)?(e.props.fetchBooks(t.currentPage*A.a),{currentPage:t.currentPage+1,leftClickable:!0}):(e.props.fetchBooks(t.currentPage*A.a),{currentPage:t.currentPage+1,start:t.start+1,end:t.end+1,leftClickable:!0})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchBookCount()}},{key:"render",value:function(){for(var e=this,t=[],a=this.state.start;a<=this.state.end;a++)t.push(a);var o=this.props.loading?[O.a.Pagination,O.a.Hide].join(" "):O.a.Pagination;return s.a.createElement("div",{className:o},s.a.createElement("button",{className:O.a.Button,onClick:this.goToFirstHandler,disabled:!this.state.leftClickable},"<<"),s.a.createElement("button",{className:O.a.Button,onClick:this.moveLeftHandler,disabled:!this.state.leftClickable},"<"),t.map((function(t){return parseInt(t)===parseInt(e.state.currentPage)?s.a.createElement("button",{className:O.a.Button,key:t,style:{backgroundColor:"rgb(171, 24, 139)"}},t):s.a.createElement("button",{className:O.a.Button,key:t,onClick:function(){return e.pageSelectHandler(t)}},t)})),s.a.createElement("button",{className:O.a.Button,onClick:this.moveRightHandler,disabled:!this.state.rightClickable},">"),s.a.createElement("button",{className:O.a.Button,onClick:this.goToLastHandler,disabled:!this.state.rightClickable},">>"))}}]),a}(i.Component),w=Object(u.b)((function(e){return{bookCount:e.bookReducer.bookCount,loading:e.bookReducer.loading}}),(function(e){return{fetchBooks:function(t){return e(Object(v.b)(t))},fetchBookCount:function(){return e(Object(v.a)())}}}))(M),q=a(147),G=a.n(q),S=function(e){return e.show?s.a.createElement("div",{className:G.a.Backdrop,onClick:e.clicked}):null},x=a(148),D=a.n(x),I=function(e){return s.a.createElement(L.a,null,s.a.createElement(S,{show:e.show,clicked:e.clicked}),s.a.createElement("div",{className:D.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},R=a(149),Q=a.n(R),J=a(150),Y=a.n(J),F=function(e){return e.addToCartHandler?s.a.createElement("button",{className:Y.a.Button,onClick:function(){e.addToCartHandler(e.book),e.closeModal()}},e.children):s.a.createElement("button",{className:e.cancel?[Y.a.Button,Y.a.Cancel].join(" "):Y.a.Button,onClick:e.closeModal},e.children)},W=a(151),Z=a.n(W),z=function(e){return s.a.createElement("div",{className:Z.a.Quantity},s.a.createElement("button",{className:Z.a.Button,onClick:e.quantityDecreaseHandler,disabled:1===e.quantity},"-"),s.a.createElement("label",null,e.quantity),s.a.createElement("button",{className:Z.a.Button,onClick:e.quantityIncreaseHandler,disabled:4===e.quantity},"+"))},K=a(152),U=a.n(K),X=function(e){return s.a.createElement("div",{className:U.a.ButtonControls},e.book.formats.map((function(t,a){return s.a.createElement("label",{key:a,className:U.a.ButtonContainer},t.format,s.a.createElement("input",{type:"radio",name:e.book.id,defaultChecked:0===a,onClick:function(){return e.formatChooseHandler(t)}}),s.a.createElement("span",{className:U.a.ButtonCheckmark}))})),s.a.createElement("div",{className:U.a.Dropdown},s.a.createElement("span",null,e.bookToAdd.language,"\xa0",s.a.createElement("i",{className:"fas fa-caret-down"})),s.a.createElement("div",{className:U.a.DropdownContent},e.book.languages.map((function(t){return s.a.createElement("label",{key:t,className:U.a.LanguageLabel,onClick:function(){return e.languageChooseHandler(t)}},t)})))),s.a.createElement(z,{quantity:e.bookToAdd.quantity,quantityDecreaseHandler:e.quantityDecreaseHandler,quantityIncreaseHandler:e.quantityIncreaseHandler}),s.a.createElement("label",{className:U.a.Price},e.bookToAdd.format.price),s.a.createElement("div",{className:U.a.ButtonContainer,style:{display:"block"}},s.a.createElement(F,{addToCartHandler:e.addToCartHandler,book:e.bookToAdd,closeModal:e.closeModal},"Add to Cart"),s.a.createElement(F,{cancel:!0,closeModal:e.closeModal},"Cancel")))},V=function(e){return s.a.createElement("div",{className:Q.a.BookToCart},s.a.createElement("img",{src:"https://robohash.org/".concat(e.book.id,".png?size=150x150&set=set3"),alt:e.book.id}),s.a.createElement("div",{className:Q.a.BookContent},s.a.createElement(_,{book:e.book}),s.a.createElement("div",{className:Q.a.GenreList},Object(d.a)(new Set(e.book.genres)).map((function(e,t){return s.a.createElement(g,{key:t,genre:e.toLowerCase()})})))),s.a.createElement(X,e))},$=a(83),ee=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={showModal:!1,chosenBook:null,bookToAdd:null},e.modalClickedHandler=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.chooseBookHandler=function(t){e.setState((function(e){return{showModal:!0,chosenBook:t,bookToAdd:{id:t.id,title:t.title,author:t.author,language:t.languages[0],format:t.formats[0],quantity:1}}}))},e.formatChooseHandler=function(t){e.setState((function(e){return{bookToAdd:Object(o.a)(Object(o.a)({},e.bookToAdd),{},{format:t})}}))},e.languageChooseHandler=function(t){e.setState((function(e){return{bookToAdd:Object(o.a)(Object(o.a)({},e.bookToAdd),{},{language:t})}}))},e.quantityIncreaseHandler=function(){e.setState((function(e){return{bookToAdd:Object(o.a)(Object(o.a)({},e.bookToAdd),{},{quantity:e.bookToAdd.quantity+1})}}))},e.quantityDecreaseHandler=function(){e.setState((function(e){return{bookToAdd:Object(o.a)(Object(o.a)({},e.bookToAdd),{},{quantity:e.bookToAdd.quantity-1})}}))},e.addToCartHandler=function(t){e.props.addToCart(t)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchBooks()}},{key:"render",value:function(){return s.a.createElement(L.a,null,this.props.loading?s.a.createElement(N.a,null):s.a.createElement(L.a,null,this.state.chosenBook?s.a.createElement(I,{show:this.state.showModal,clicked:this.modalClickedHandler},s.a.createElement(V,{book:this.state.chosenBook,formatChooseHandler:this.formatChooseHandler,languageChooseHandler:this.languageChooseHandler,bookToAdd:this.state.bookToAdd,closeModal:this.modalClickedHandler,quantityIncreaseHandler:this.quantityIncreaseHandler,quantityDecreaseHandler:this.quantityDecreaseHandler,addToCartHandler:this.addToCartHandler})):null,s.a.createElement(P,{books:this.props.books,clicked:this.chooseBookHandler})),s.a.createElement(w,null))}}]),a}(i.Component);t.default=Object(u.b)((function(e){return{books:e.bookReducer.books,loading:e.bookReducer.loading,cart:e.cartReducer.cart}}),(function(e){return{fetchBooks:function(t){return e(Object(v.b)(t))},addToCart:function(t){return e(Object($.a)(t))}}}))(ee)}}]);
//# sourceMappingURL=3.1992f850.chunk.js.map