(this.webpackJsonpinitium=this.webpackJsonpinitium||[]).push([[0],{100:function(e,t,a){e.exports={Layout:"Layout_Layout__1n1Ke"}},101:function(e,t,a){e.exports={Logo:"Logo_Logo__1Ldl2"}},103:function(e,t,a){e.exports={Topbar:"Topbar_Topbar__3ugaH"}},105:function(e,t,a){e.exports={Spinner:"Spinner_Spinner__2ai49",load1:"Spinner_load1__43uI2"}},109:function(e,t,a){e.exports={Checkout:"Checkout_Checkout__3PnJq"}},111:function(e,t,a){e.exports=a(140)},116:function(e,t,a){},117:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(63),c=a.n(o),l=(a(116),a(58)),i=a(59),u=a(62),s=a(61),m=(a(117),a(36)),d=a(2),b=a(100),f=a.n(b),p=a(41),_=a(101),E=a.n(_),h=Object(d.g)((function(e){return r.a.createElement("span",{className:E.a.Logo,onClick:function(){return function(e){e.history.push("/")}(e)}},"Librum")})),g=a(86),v=a.n(g),k=function(e){return r.a.createElement(m.b,{to:e.link,exact:!0,className:v.a.Link,activeClassName:v.a.active},e.item)},y=a(79),C=a.n(y),O=(a(122),a(22)),N=Object(O.b)((function(e){return{genres:e.bookReducer.genres}}))((function(e){return r.a.createElement("div",{className:C.a.NavigationItems},r.a.createElement(k,{item:"Home",link:"/"}),r.a.createElement(k,{item:"Books",link:"/books"}),r.a.createElement(k,{item:"Authors",link:"/authors"}),r.a.createElement("div",{className:C.a.Dropdown},r.a.createElement("span",null,"Genres\xa0",r.a.createElement("i",{className:"fas fa-caret-down"})),r.a.createElement("div",{className:C.a.DropdownContent},0===e.genres.length?r.a.createElement("p",null,"Loading..."):e.genres.map((function(e){var t="/"+e;return r.a.createElement(m.b,{key:e,to:t,exact:!0},e)})))),r.a.createElement(k,{item:"Cart",link:"/cart"}),r.a.createElement(k,{item:"Orders",link:"/orders"}),r.a.createElement(k,{item:"Formik",link:"/formik"}))})),j=a(103),I=a.n(j),T=function(e){return r.a.createElement("div",{className:I.a.Topbar},r.a.createElement(h,null),r.a.createElement(N,null))},x=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={sideDrawer:!1},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(T,null),r.a.createElement("div",{className:f.a.Layout},this.props.children))}}]),a}(n.Component),L=a(88),S=a(99),w=a(21),R=a.n(w),A=a(83),q=Object(O.b)((function(e){return{cart:e.cartReducer.cart}}),(function(e){return{setBookQuantity:function(t,a){return e(Object(A.c)(t,a))},removeFromCart:function(t){return e(Object(A.b)(t))}}}))((function(e){return r.a.createElement("div",{className:R.a.CartItem},r.a.createElement("img",{src:"https://robohash.org/".concat(e.book.id,".png?size=80x80&set=set3"),alt:e.book.id,className:R.a.Img}),r.a.createElement("div",{className:R.a.CartItemContent},r.a.createElement("label",{className:R.a.Title},e.book.title),r.a.createElement("label",{className:R.a.Author},"by ",e.book.author),r.a.createElement("label",{className:R.a.Language},e.book.language),r.a.createElement("label",{className:R.a.Author},e.book.format.format),r.a.createElement("label",{className:R.a.Quantity},"Qty:\xa0"),r.a.createElement("select",{name:"quantity",onChange:function(t){return function(t,a){e.setBookQuantity(a,t.target.value)}(t,e.book)},defaultValue:e.book.quantity},[1,2,3,4].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("button",{className:R.a.Button,onClick:function(){return e.removeFromCart(e.book)}},"Remove"),r.a.createElement("div",{className:R.a.Price},e.book.format.price))})),F=a(40),D=a.n(F),B=function(e){var t=Object(d.f)();return r.a.createElement("div",{className:D.a.CartItemList},r.a.createElement("label",{className:D.a.Header},"Shopping Cart"),0===e.cart.length?r.a.createElement("p",null,"Cart is Empty. Please add books!!!"):e.cart.map((function(e,t){return r.a.createElement(q,{key:t,book:e})})),0===e.cart.length?null:r.a.createElement(p.a,null,r.a.createElement("div",{className:D.a.Total},r.a.createElement("label",{className:D.a.Header},"Total"),r.a.createElement("label",{className:D.a.Header},"\u20b9 ",function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a].format.price*e[a].quantity;return t}(e.cart))),r.a.createElement("button",{className:D.a.Checkout,onClick:function(){return t.push("/checkout")}},"Checkout")))},H=Object(O.b)((function(e){return{cart:e.cartReducer.cart}}))((function(e){return r.a.createElement(B,{cart:e.cart})})),M=a(73),Q=a(75),V=a(27),P=a(24),U=function(e){var t=e.label,a=Object(Q.a)(e,["label"]),n=Object(V.c)(a),o=Object(M.a)(n,2),c=o[0],l=o[1];return r.a.createElement(p.a,null,r.a.createElement("label",{htmlFor:a.id||a.name},t),r.a.createElement("input",Object.assign({className:"text-input"},c,a)),l.touched&&l.error?r.a.createElement("div",{className:"error"},l.error):null)},G=function(){return r.a.createElement(V.b,{initialValues:{firstName:"",lastName:"",email:""},validationSchema:P.a({firstName:P.b().max(15,"Must be 15 characters or less").required("Required"),lastName:P.b().max(10,"Must be 10 characters or less").required("Required"),email:P.b().email("Invalid email address")}),onSubmit:function(e,t){var a=t.setSubmitting;!function(e){console.log(e)}(e),a(!1)}},r.a.createElement(V.a,null,r.a.createElement(U,{label:"First Name",name:"firstName",type:"text",placeholder:"John"}),r.a.createElement(U,{label:"Last Name",name:"lastName",type:"text",placeholder:"Doe"}),r.a.createElement(U,{label:"Email",name:"email",type:"email",placeholder:"johndoe@email.com"}),r.a.createElement("button",{type:"submit"},"Submit")))},J=a(109),z=a.n(J),K=a(80),X=a.n(K),W=function(e){var t=e.label,a=Object(Q.a)(e,["label"]),n=Object(V.c)(a),o=Object(M.a)(n,2),c=o[0],l=o[1];return r.a.createElement("div",{className:X.a.InputContainer},r.a.createElement("label",{htmlFor:a.id||a.label},t),r.a.createElement("input",Object.assign({className:X.a.TextInput},c,a)),l.touched&&l.error?r.a.createElement("div",{className:X.a.Error},l.error):null)},Y=a(54),Z=function(e){return r.a.createElement("div",{className:z.a.Checkout},r.a.createElement(V.b,{initialValues:{name:"",email:"",address:"",gift:!1,delivery:"",tnc:!1},validationSchema:P.a({name:P.b().max(30,"Must be 30 characters or less").required("Required"),email:P.b().email("Invalid email address").required("Required"),address:P.b().max(50,"Must be 50 characters or less").required("Required")}),onSubmit:function(e,t){var a=t.setSubmitting;console.log(e),Y.a.post("/orders",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),a(!1)}},r.a.createElement(V.a,null,r.a.createElement(W,{label:"Name",name:"name",type:"text",placeholder:"John Doe"}),r.a.createElement(W,{label:"Email",name:"email",type:"email",placeholder:"johndoe@email.com"}),r.a.createElement(W,{label:"Address",name:"address",type:"text",placeholder:"House,Locality, City, Pin"}),r.a.createElement("button",{type:"submit"},"Submit"))))},$=function(e){return r.a.createElement(Z,null)},ee=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,153))})),te=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchGenres()}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(x,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(S.a,null)},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/books",exact:!0,component:ee}),r.a.createElement(d.a,{path:"/cart",exact:!0,component:H}),r.a.createElement(d.a,{path:"/formik",exact:!0,component:G}),r.a.createElement(d.a,{path:"/checkout",exact:!0,component:$})))))}}]),a}(n.Component),ae=Object(O.b)((function(e){return{genres:e.bookReducer.genres,books:e.bookReducer.books}}),(function(e){return{fetchGenres:function(){return e(Object(L.c)())}}}))(te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(39),re=a(110),oe=a(8),ce=a(7),le={genres:[],books:[],bookCount:0,loading:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.d:return Object(oe.a)(Object(oe.a)({},e),{},{genres:t.payload});case ce.b:var a=[];return a=Array.isArray(t.payload)?t.payload.filter((function(e){return null!==e})):Object.values(t.payload),Object(oe.a)(Object(oe.a)({},e),{},{books:a});case ce.c:return Object(oe.a)(Object(oe.a)({},e),{},{bookCount:t.payload});case ce.e:return Object(oe.a)(Object(oe.a)({},e),{},{loading:t.payload});default:return e}},ue=a(89),se={cart:[]},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.a:return Object(oe.a)(Object(oe.a)({},e),{},{cart:[].concat(Object(ue.a)(e.cart),[t.payload])});case ce.f:return Object(oe.a)(Object(oe.a)({},e),{},{cart:e.cart.filter((function(e){return e!==t.payload}))});case ce.g:return Object(oe.a)(Object(oe.a)({},e),{},{cart:e.cart.map((function(e){if(e===t.payload.book){var a=e;return a.quantity=parseInt(t.payload.quantity,10),a}return e}))});default:return e}},de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.d,be=Object(ne.c)({bookReducer:ie,cartReducer:me}),fe=Object(ne.e)(be,de(Object(ne.a)((function(e){return function(e){return function(t){return e(t)}}}),re.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{store:fe},r.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,a){e.exports={CartItem:"CartItem_CartItem__pd-kX",CartItemContent:"CartItem_CartItemContent__1wsd3",Img:"CartItem_Img__1hn_0",Title:"CartItem_Title__30V04",Author:"CartItem_Author__2ZhVD",Button:"CartItem_Button__f6ukT",Language:"CartItem_Language__meF4Q",Price:"CartItem_Price__17dFV",Quantity:"CartItem_Quantity__2wj_-"}},40:function(e,t,a){e.exports={CartItemList:"CartItemList_CartItemList__1FjO6",Header:"CartItemList_Header__3MzAi",Total:"CartItemList_Total__1UdSl",Checkout:"CartItemList_Checkout__3Z3wz"}},41:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement(r.a.Fragment,null,e.children)}},54:function(e,t,a){"use strict";var n=a(104),r=a.n(n).a.create({baseURL:"https://bookstore-78d1c.firebaseio.com/"});t.a=r},7:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return u}));var n="FETCH_GENRES",r="FETCH_BOOKS",o="FETCH_BOOK_COUNT",c="FETCH_LOADING_STATUS",l="ADD_TO_CART",i="REMOVE_FROM_CART",u="SET_BOOK_QUANTITY"},79:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__3I7V0",Dropdown:"NavigationItems_Dropdown__1dd8_",DropdownContent:"NavigationItems_DropdownContent__3o7Rr"}},80:function(e,t,a){e.exports={InputContainer:"TextInput_InputContainer__3Tjot",TextInput:"TextInput_TextInput__16XLe",Error:"TextInput_Error__1YV82"}},82:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=20},83:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return c}));var n=a(7),r=function(e){return{type:n.a,payload:e}},o=function(e){return{type:n.f,payload:e}},c=function(e,t){return{type:n.g,payload:{book:e,quantity:t}}}},86:function(e,t,a){e.exports={Link:"NavigationItem_Link__1kSLP",active:"NavigationItem_active__gQaEQ"}},88:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s}));var n=a(7),r=a(54),o=a(82),c=function(e){return{type:n.b,payload:e}},l=function(e){return{type:n.e,payload:e}},i=function(){return function(e){r.a.get("/genres.json").then((function(t){return e((a=t.data,{type:n.d,payload:a}));var a})).catch((function(e){return console.log(e)}))}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){t(l(!0));var a=0===e?'/books.json?orderBy="id"&startAt=0&limitToFirst='.concat(o.a):'/books.json?orderBy="id"&startAt='.concat(e+1,"&limitToFirst=").concat(o.a);r.a.get(a).then((function(e){t(c(e.data)),t(l(!1))})).catch((function(e){return console.log(e)}))}},s=function(){return function(e){r.a.get("/bookCount.json").then((function(t){return e((a=t.data,{type:n.c,payload:a}));var a})).catch((function(e){return console.log(e)}))}}},99:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(105),c=a.n(o);t.a=function(e){return r.a.createElement("div",{className:c.a.Spinner},"Loading...")}}},[[111,1,2]]]);
//# sourceMappingURL=main.3b8f7654.chunk.js.map